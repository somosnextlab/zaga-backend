# üîê Gu√≠a de Seguridad - Zaga Backend

## ‚ö†Ô∏è **ADVERTENCIAS IMPORTANTES**

### üö® **NUNCA subas a GitHub:**
- Tokens JWT reales de Supabase
- Claves de API reales
- URLs de base de datos con credenciales
- Archivos `.env` con datos reales
- Cualquier dato sensible de producci√≥n

### ‚úÖ **S√ç puedes subir:**
- Archivos de ejemplo con placeholders
- Estructura de configuraci√≥n sin datos reales
- Scripts de prueba con advertencias de seguridad
- Documentaci√≥n t√©cnica

## üõ°Ô∏è **Buenas Pr√°cticas de Seguridad**

### 1. **Variables de Entorno**
```bash
# ‚úÖ CORRECTO - Usar placeholders
SUPABASE_ANON_KEY=your_anon_key_here
DATABASE_URL=postgresql://USER:PASS@HOST:PORT/dbname

# ‚ùå INCORRECTO - Datos reales
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
DATABASE_URL=postgresql://postgres:password123@localhost:5432/zaga
```

### 2. **Tokens de Prueba**
```json
// ‚úÖ CORRECTO - Placeholders
{
  "token": "TOKEN_EJEMPLO_NO_VALIDO",
  "description": "Token de ejemplo (NO v√°lido para producci√≥n)"
}

// ‚ùå INCORRECTO - Tokens reales
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "description": "Token real de admin"
}
```

### 3. **Scripts de Prueba**
```bash
# ‚úÖ CORRECTO - Con advertencias
ADMIN_TOKEN="TU_TOKEN_ADMIN_REAL_AQUI"
echo "‚ö†Ô∏è Reemplaza con token real de Supabase"

# ‚ùå INCORRECTO - Sin advertencias
ADMIN_TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

## üîç **Verificaci√≥n Pre-Commit**

Antes de hacer commit, verifica que NO contengas:

- [ ] Tokens JWT reales
- [ ] Claves de API reales
- [ ] URLs de base de datos con credenciales
- [ ] Archivos `.env` con datos reales
- [ ] Cualquier dato sensible

## üìÅ **Archivos Seguros para GitHub**

### ‚úÖ **Archivos que S√ç puedes subir:**
- `README.md` (con placeholders)
- `mock/test-tokens.json` (con placeholders)
- `mock/test-data.sql` (estructura sin datos reales)
- `mock/curl-examples.sh` (con placeholders)
- `mock/powershell-examples.ps1` (con placeholders)
- `docs/` (documentaci√≥n t√©cnica)
- `src/` (c√≥digo fuente)

### ‚ùå **Archivos que NO debes subir:**
- `.env` (con datos reales)
- `*.token` (archivos con tokens reales)
- `*_real_*` (archivos con datos reales)
- `*_production_*` (configuraciones de producci√≥n)

## üö® **En Caso de Exposici√≥n Accidental**

Si accidentalmente subiste datos sensibles:

1. **Inmediatamente** revoca las credenciales expuestas
2. **Elimina** el commit del historial de Git
3. **Regenera** todas las claves y tokens
4. **Notifica** al equipo de seguridad
5. **Revisa** el historial de commits

## üìû **Contacto de Seguridad**

Para reportar vulnerabilidades o problemas de seguridad:
- Email: security@zaga.com
- Slack: #security-alerts

## üîÑ **Actualizaciones de Seguridad**

Este documento debe actualizarse regularmente con:
- Nuevas mejores pr√°cticas
- Cambios en la configuraci√≥n
- Nuevas herramientas de seguridad
- Lecciones aprendidas de incidentes

---

**Recuerda: La seguridad es responsabilidad de todos. Cuando dudes, pregunta.**
