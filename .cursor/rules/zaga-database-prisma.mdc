---
alwaysApply: true
---
🔹 ORM, migraciones y modelado:

Contenido:
- Fuente de verdad: prisma/schema.prisma.
- Cada cambio → prisma migrate dev local + deploy en CI.
- Índices y constraints explícitos (unique, fk, partial).
- Evitar consultas directas SQL sin parámetros.
- Definir relaciones y include/select optimizados.
- Índices en: usuario_id, estado, created_at.
- No usar any; usar Prisma.* types.
- Seeds en /database/seeds/.